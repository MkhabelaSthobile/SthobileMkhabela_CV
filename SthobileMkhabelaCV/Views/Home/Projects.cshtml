@model List<SthobileMkhabelaCV.Models.Projects>
@{
    ViewData["Title"] = "Projects";
}

@section Styles {
    <style>
        .project-card {
            background: var(--bg2);
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 2rem;
            height: 100%;
            display: flex;
            flex-direction: column;
            transition: border-color 0.25s, transform 0.25s;
        }

            .project-card:hover {
                border-color: var(--accent);
                transform: translateY(-5px);
            }

        .project-number {
            font-family: 'Syne', sans-serif;
            font-weight: 800;
            font-size: 2.5rem;
            color: var(--border);
            line-height: 1;
            margin-bottom: 0.75rem;
        }

        .project-name {
            font-family: 'Syne', sans-serif;
            font-weight: 800;
            font-size: 1.3rem;
            margin-bottom: 0.6rem;
            color: var(--text);
        }

        .project-desc {
            color: var(--muted);
            font-size: 0.9rem;
            line-height: 1.7;
            margin-bottom: 1.25rem;
            flex-grow: 1;
        }

        .tech-pill {
            display: inline-block;
            background: var(--bg3);
            border: 1px solid var(--border);
            color: var(--accent);
            font-size: 0.72rem;
            font-weight: 500;
            padding: 0.25rem 0.65rem;
            border-radius: 20px;
            margin: 0.15rem;
        }

        .project-links {
            margin-top: 1.5rem;
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }
    </style>
}

<div class="page-wrapper">
    <a asp-controller="Home" asp-action="Index" class="btn-outline-accent mb-4 d-inline-flex align-items-center gap-2">
        <i class="bi bi-arrow-left"></i> Back to Home
    </a>

    <p class="section-label">What I've Built</p>
    <h1 class="section-title">Projects</h1>
    <div class="accent-line"></div>

    @if (Model == null || !Model.Any())
    {
        <p class="text-muted">No projects added yet.</p>
    }
    else
    {
        <div class="row g-4">
            @for (int i = 0; i < Model.Count; i++)
            {
                var project = Model[i];
                <div class="col-md-6 col-lg-4">
                    <div class="project-card">
                        <p class="project-number">0@(i + 1)</p>
                        <h3 class="project-name">@project.ProjectName</h3>
                        <p class="project-desc">@project.Description</p>

                        <div class="mb-2">
                            @foreach (var tech in project.TechStack.Split(','))
                            {
                                <span class="tech-pill">@tech.Trim()</span>
                            }
                        </div>

                        <div class="project-links">
                            @if (!string.IsNullOrEmpty(project.ProjectUrl))
                            {
                                <a href="@project.ProjectUrl" target="_blank" class="btn-outline-accent d-inline-flex align-items-center gap-1">
                                    <i class="bi bi-github"></i> GitHub
                                </a>
                            }
                        </div>
                    </div>
                </div>
            }
        </div>
    }
</div>
